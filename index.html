<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Pegaeus</title>
    <link rel = "stylesheet" href = "./styles.css" />
    <script type="module" src = "./message-view.js">\</script>
    <script type="module" src = "./contacts-view.js">\</script>
    <script type="module" src = "./my-loader.js">\</script>
    <script type="module" src = "./login-form.js">\</script>
    <script type="module" src = "./live-date.js">\</script>
    <script type="module" src = "./pages-display.js">\</script>
    <script type="module" src = "./app-panel.js">\</script>
  </head>
  <body>
    <div class = "top-bar">
      <div style = "float: left">
        <svg viewBox="0 0 814 1000">
          <path d="M788.1,340.9c-5.8,4.5-108.2,62.2-108.2,190.5c0,148.4,130.3,200.9,134.2,202.2c-0.6,3.2-20.7,71.9-68.7,141.9  c-42.8,61.6-87.5,123.1-155.5,123.1s-85.5-39.5-164-39.5c-76.5,0-103.7,40.8-165.9,40.8s-105.6-57-155.5-127  C46.7,790.7,0,663,0,541.8c0-194.4,126.4-297.5,250.8-297.5c66.1,0,121.2,43.4,162.7,43.4c39.5,0,101.1-46,176.3-46  C618.3,241.7,720.7,244.3,788.1,340.9z M554.1,159.4c31.1-36.9,53.1-88.1,53.1-139.3c0-7.1-0.6-14.3-1.9-20.1  c-50.6,1.9-110.8,33.7-147.1,75.8c-28.5,32.4-55.1,83.6-55.1,135.5c0,7.8,1.3,15.6,1.9,18.1c3.2,0.6,8.4,1.3,13.6,1.3  C464,230.7,521.1,200.3,554.1,159.4z"/>
        </svg>
        <span>PEGAEUS</span>
        <span>File</span>
        <span>Edit</span>
        <span>View</span>
        <span>Window</span>
        <span>Help</span>
      </div>
      <div style = "float: right">
        <svg viewBox="0 0 17.2 12.3">

          <path d="M6.2,9.6l2.4,2.4l2.4-2.4c-0.6-0.6-1.4-1-2.4-1C7.7,8.6,6.8,8.9,6.2,9.6z"/>
          <path d="M4.7,8c1-1,2.4-1.6,3.9-1.6c1.5,0,2.9,0.6,3.9,1.6l1.4-1.4c-1.3-1.3-3.2-2.2-5.3-2.2c-2.1,0-3.9,0.8-5.3,2.2L4.7,8z"/>
          <path d="M1.9,5.2C3.6,3.4,6,2.4,8.6,2.4c2.6,0,5,1.1,6.7,2.8l1.5-1.5c-2.1-2.1-5-3.4-8.2-3.4c-3.2,0-6.1,1.3-8.2,3.4L1.9,5.2z"/>
        </svg>
        <svg viewBox="0 0 12.8 12.7">

          <style type="text/css">
            .st0{fill:none;stroke:#FFFFFF;stroke-width:1.75;stroke-miterlimit:10;}
            .st1{fill:none;stroke:#FFFFFF;stroke-width:1.75;stroke-linecap:round;stroke-miterlimit:10;}
          </style>
          <circle class="st0" cx="5.3" cy="5.3" r="4.4"/>
          <line class="st1" x1="11.9" y1="11.8" x2="8.4" y2="8.3"/>
        </svg>
        <live-date></live-date>
      </div>
    </div>
    <pages-display template = "login">
      <template name = "login">
        <login-form>
          <div>
            <h1>WELCOME TO PEGAEUS</h1>
            <div name = "input-boxes"></div>
            <div class = "btn">Login</div>
            <div class = "forgot"><u>Forgot password or username</u></div>
          </div>
        </login-form>
      </template>
      <template name = "app-panel">
        <app-panel>
          <div class = "control-bar">
            <div style = "float: left">
              <span name = "welcome-message"></span>
            </div>
            <div style = "float: right">
              <span onclick = "signOut()" class = "btn">sign-out</span>
            </div>
          </div>
          <div class = "main-tools">
            <div>
              <form class = "contact-form" autocomplete="off">
                <div>
                  <span>Name: </span> <input name = "name" /> <div class = "btn" onclick = "addContact()">+</div>
                </div>
                <div>
                  <span>Number: </span> <input type="number" name = "number" />
                </div>
              </form>
              <contacts-view></contacts-view>
            </div>
            <div>
              <message-view></message-view>
            </div>
          </div>
        </app-panel>


      </template>
      <div name = "loader">
        <my-loader>
          <svg viewBox="0 0 253.1 308">
            <path d="M118.5,106.1c0,0,13.7-14.4,16.1-19c2.4-4.7,4-9.1,9.9-14.3c5.9-5.1,15.5-7.6,22.4-17.9c6.9-10.3,2.9-38.6-7.7-54.9c0,0,16.6,6,21.7,22.6c0,0,3.6-8.7-0.6-20.2c0,0,14.9,9.4,13.9,22.3s-6.4,14.6-6.4,14.6s9.7-2.5,11.6-21.6c0,0,7.8,5.2,6.7,16.9s-9.9,18-9.9,18s15.4-6.1,17.6-17.4c0,0,5.5,18.1-9.9,25.1c0,0,2.8,1.7,8-2c5.2-3.7,7.3-7.6,7.3-7.6s0.8,8.2-4.6,13.2s-7.2,6-7.2,6s10.1-2.6,12.2-6.7c0,0,3.3,5.1-8.9,16.6c0,0,6.2-0.5,9.3-4.1c0,0,1.5,10.2-12.5,16.3c0,0,8.5,0.6,11.2-4c0,0-3.7,14.8-14.6,17.5c0,0,4,2.8,7.5,0.5c0,0-10.5,10.7-19.2,10.3c0,0-1,3.5,5.1,4.1c0,0-5.2,6.4-21,3.6c0,0,0,6.3,7.2,5.3c0,0-5,6.1-17.1,3.2c0,0,0.6,4.1,5.2,4.5c0,0-3.3,4.4-14.9,0.6l-1.1,2c0,0,12.9,1.7,31.7,16.9s11,16.9,18.4,16.8c7.5-0.1,14.1-5,27.2-5s20,8.6,20,20.1s-5,19.8-8.5,24.3c-3.5,4.5-7.7,16.4-19,22.1c-11.3,5.8-20.1,2.1-20.1,2.1s15.1-6.3,15.3-12c0.1-5.6-2.6-14.3-1.8-17.6c0.8-3.3,9.4-5.5,9.5-15.6c0.1-10.1-22.9-12-22.9-7.5s0,11.1,0,13.7c0,2.6-1.1,6.3-3.1,10.2c-1.9,3.8-4.6,6.9-4.6,14.2c0,7.3,2.3,13.9,6.1,17.6c3.8,3.8,4.5,10.6,4.5,16.9s-0.4,15.7,1.8,17.9c2.2,2.2,2.1,10.3,2.1,13.4c0,0,6.3-0.5,7.1,3.2c0.8,3.7,1.3,7.2-0.6,10.8c-1.9,3.5-4.3,5.6-4.3,5.6s-10.1-6-11.8-23c-1.6-17.1-4.8-24-7.6-29.5c-2.7-5.5-7.6-13.9-13.5-19.8c-5.9-5.9-13.8-21.1-17.9-31.4s-5.3-10.6-13.5-10.1c-8.2,0.5-31.7-4-50.2-18.7c-18.5-14.7-20.4-16.6-20.4-16.6s-12.7,1.9-24.3-7.6c-11.6-9.5-12.4-10.3-13.2-7.4c-0.8,2.9,0,13.2,0,13.2s4.2,3.5,4.2,6.9c0,0,8.5-1.9,11.1,2.1c2.6,4,1.3,13.4,1.3,13.4s-8.5-0.8-12.9-5.6s-12.4-5.2-12.6-9.8c-0.2-4.7-2.4-33,1.4-33.2c3.9-0.2,22.9,0.6,22.9,0.6s2.3-20.1,0.8-29S50.5,88.4,38,89.3c0,0-1.4,8.5-4.7,11.6c-3.2,3.1-15.3,7.2-16.1,8.2s-0.3,10.2-6.6,9.4s-10.9-4.2-10.6-6.7s4.7-13.7,5.4-17.1s3.5-15,6.6-20.3s6.3-12.2,10.1-16.7s4.8-7.5,4.8-7.5l-0.4,8.9c0,0,3.9-5.8,12.9-9.4s20.9-2.4,20.9-2.4s-8.1,1.2-9.8,7.4c0,0,6.5-4.7,13.4-4.3s8.4,3.7,12.9,4.1c4.5,0.4,22.7,1.2,22.7,1.2s-0.5,6.9-8.5,7.5s-9.1,1.3-9.1,1.3s13,0.5,17.4,3.4c4.4,2.9,10.1,9.8,10.1,9.8s-3.5-0.7-3.5,1.7c0,2.3,4.4,11.7,7.3,14.3c0,0-6.7-3.7-12-1.4c0,0,4.8,0.7,8.3,3.5C113,98.6,118.5,106.1,118.5,106.1z"/>
          </svg>
        </my-loader>
      </div>
    </pages-display>
  </body>

  <script>
    let pages = document.querySelector("body > pages-display");
    setTimeout(() => {
      pages.fade()
    }, 1435)

    let username = "";
    pages.addEventListener("login", () => {
      let login = pages.pageElement;
      login.addEventListener("submit", () => {
        username = login.username;
        pages.goto("app-panel");
      })
    });

    pages.addEventListener("app-panel", () => {
      let app = pages.pageElement;
      app.setAttribute("welcome", `${username}`)
    })

    function signOut(){
      pages.goto("login");
    }
    function addContact(){
      try{
        let contacts = document.querySelector("contacts-view");
        let form = document.querySelector("form.contact-form");
        let name = form.querySelector("input[name='name']");
        let number = form.querySelector("input[name='number']");
        if (name.value && number.value) {
          contacts.addContact({name: name.value, number: number.value})
          name.value = "";
          number.value = "";
        }
      }catch(e){
        console.log(e);
      }
    }

  </script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,500;1,300;1,400;1,500&display=swap');
    body, textarea, input{
      font-family: 'Montserrat', sans-serif;
    }
  </style>
</html>
